Тз на разработку системы маршрутов

1. Общее количество категорий более 300
2. Общее количество продуктов более 100000
3. Система должна уметь работать с большими нагрузками и обслуживать более 2000 пользователей одновременно
4. Иерархия категорий может быть произвольной, не известно количество уровней вложенности
5. Один продукт может быть в нескольких категориях
6. Продукты и категории запрашиваются из api по slug
7. Slug формируется автоматически на основе названия категории или продукта без дополнительный идентификаторов категория это или продукт.
8. Необходимо восстанавливать хлебные крошки для всех страниц сайта, запоминая маршрут движения пользователя по сайту
9. В случае, если пользователь напрямую зашел на продукт, то крошки формируются от самой последней категории по вложенности, в которой лежит продукт. Если таких категорий несколько, то крошки формируются от первой категории.
10. Необходимо разработать систему динамических маршрутов для всех страниц сайта, исходя из вышеуказанных условий

Если страница загружается по такому URL: 
https://example.com/category/subcategory/ofis-led
Как ты поймешь что последний элемент это продукт а не категория?

API запросы:
При загрузке страницы можно сделать запрос к API, который вернет информацию о том, что представляет собой данный slug (категория или продукт).


